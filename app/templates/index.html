<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MetaMask Login</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
    <h1>Login with MetaMask</h1>
    <button id="login-btn">Login</button>
    <p><strong>Balance:</strong> <span id="balance">-</span> ETH</p>
    <p><strong>Balance:</strong> <span id="balance_tokences">-</span> PIT</p>
    <pre id="result"></pre>

    <h2>Buy PIT tokens</h2>
    <label>
        Amount in ETH 
        <input type="number" id="buy-eth-amount" min="0" step="0.01" placeholder="0.1">
    </label>
    <button id="buy-btn">Buy</button>
    <span id="buy-status" style="margin-left:1rem;"></span>

    <h2>Available AI jobs</h2>
    <table id="catalog" border="1">
        <thead>
            <tr><th>Job</th><th>Description</th><th>Price&nbsp;(PIT)</th><th>Input</th><th></th></tr>
        </thead>
        <tbody></tbody>
    </table>
    <span id="catalog-status"></span>

    <h2>Your runs</h2>
    <table id="runs-table" border="1">
        <thead>
            <tr>
                <th>#</th>
                <th>Run ID</th>
                <th>Score</th>
                <th>Started</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        const contractAddress = "{{ contract_address }}";
    </script>
    <script src="/static/index_script.js"></script>
</body>
